- index = 0
/ = paginate tickets, remote: true, method: :get, params: {controller: "tickets", action: "paginate_payment_pending_tickets", rendering_id: "#payment_pending_tickets_pagination", per_page: 3, rendering_file: "payment_pending_tickets"}
#paginate_payment_pendings
  = paginate tickets, remote: false, method: :get
  %table.table.table-striped
    %thead
      %tr
        %th No
        %th Ticket Date
        %th status_id
        %th Ticket No
        %th Customer
        %th Serial No
        %th Product Brand
        %th Product Category
        %th Product No
        %th
    %tbody
      - tickets.each do |ticket|
        / - if ticket.cus_payment_required == true and ticket.cus_payment_completed == true and ticket.status_id != 9
        - index += 1
        / - (index+1)+ 3**(params[:page].to_i-1)
        %tr
          %td
            = index
            / - if params[:page]
            /   = (index+1)+ 10**(params[:page].to_i-1)
            / - else
            /   = (index+1)
          %td #{ticket.logged_at.try :strftime, "%Y-%m-%d %H:%M" }
          %td= ticket.status_id
          %td #{ticket.ticket_no}
          %td #{ticket.try(:customer).try(:name)}
          %td
            - ticket.try(:products).each do |product|
              #{product.serial_no}
              %br
          %td
            - ticket.try(:products).each do |product|
              #{product.product_brand.name}
              %br

          %td
            - ticket.try(:products).each do |product|
              #{product.product_category.name}
              %br
          %td
            - ticket.try(:products).each do |product|
              #{product.product_no}
              %br
          %td
            = link_to "Select", ticket_path(ticket.id)