%fieldset
  %legend Request Spare Part
  = simple_nested_form_for ticket, url: update_request_spare_part_ticket_path(ticket), method: :post do |f|
    = f.simple_fields_for "ticket_spare_parts_attributes[]", @ticket_spare_part do |spr|
      - if ticket.ticket_type.code == 'OS'
        .row.col-md-12
          = spr.association :ticket_fsr, collection: ticket.ticket_fsrs.map{|tf| [tf.id, tf.id]}#, wrapper_html: {class: "col-md-3"}, label: "FSR No"
      .row.col-md-12
        = spr.input :spare_part_no, wrapper_html: {class: "col-md-3"}
      .row.col-md-12
        = spr.input :spare_part_description, wrapper_html: {class: "col-md-3"}, label: "Part Description"
        = spr.label "Customer Chargeable part"
        = spr.check_box :cus_chargeable_part, {}, true, false
        = spr.input :request_from_store, as: :radio_buttons, wrapper: :append
        = spr.input :request_from_manufacture, as: :radio_buttons, wrapper: :append
      .row.col-md-12
        = spr.input :faulty_serial_no, wrapper_html: {class: "col-md-3"}, label: "Fault Serial No"
      .row.col-md-12
        = spr.input :faulty_ct_no, wrapper_html: {class: "col-md-3"}, label: "Fault CT No"
      .row.col-md-12
        = spr.input :note, wrapper_html: {class: "col-md-6"}, label: "Note"