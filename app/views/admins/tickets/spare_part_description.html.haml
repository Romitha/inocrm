= simple_form_for @spare_part_description, url: spare_part_description_admins_tickets_path(create: true), method: :post do |f|
  .row
    .col-md-6
      = f.input :description, input_html: {rows: 1, autocomplete: "off"}, label: "Spare Part Description"
  .row{style: "margin-top:20px; margin-bottom:20px;"}
    .col-md-6
      = f.submit "Save", class: "btn btn-success pull-right", id: "submit_new_spare_part_description"

#accordion.panel-group
  - @spare_part_description_all.each_with_index do |sp_description, index|
    .panel.panel-info
      .panel-heading
        %h3.panel-title
          %a.accordion-toggle{"data-parent" => "#accordion", "data-toggle" => "collapse", :href => "##{index}"}
            = sp_description.description
          = link_to delete_admin_spare_part_description_admins_tickets_path(sp_description_id: sp_description.id), method: :delete,  :data => { :confirm => 'Are you sure?' } do
            %span.glyphicon.glyphicon-trash

      .panel-collapse.collapse.in{:id => "#{index}"}
        .panel-body
          .row.col-md-12
            .col-md-3
              %strong Spare Part Description:
            .col-md-5
              = link_to "#", class: "inline_edit load_style", data: {type: "textarea", resource: "spare_part_description", name: "description", url: spare_part_description_admins_tickets_path(edit: true, sp_description_id: sp_description.id), "original-title" => "Update Spare Part Description", value: ""}, style: "line-height: 6px;" do
                = sp_description.description


:javascript
  setTimeout(function(){
  $( "#new_spare_part_description" ).validate({
    rules: {
      "spare_part_description[description]": {
        required: true,

        remote: {
          url: "/validate_resource",
          type: "post",
          data: {
            resource_name: "SparePartDescription",
            resource_column: "description",
            resource_column_value: function() {
              return $( "input[name = 'spare_part_description[description]']" ).val();
            }
          }
        
        }

      }
    },
    messages: {
      "spare_part_description[description]": {
        required: "Required input",
        remote: "Description is already used."
      }
    }

  })
  alert("hi");
  }, 1500);