- if params[:product] and params[:product][:pop_doc_url]
  $("#preview_of_pop_doc_url").html("#{@new_product.pop_doc_url.file.filename if @new_product.pop_doc_url.present?}");
  $(".pop_doc_url_wrapper").empty();

- if params[:search].present?
  / $("#customerlist").html("#{j render 'contracts/customerlist'}");
  $("#customerlist").html("#{j render 'contracts/customersearchedlist'}");
  $("#contractlist").addClass("hide");
  $("#contractedit").addClass("hide");
- elsif params[:select].present?
  $("#contractlist").removeClass("hide");
  $("#contractlist").html("#{j render 'contracts/contractslist'}");
  / $("a[href='#contracts_form_collapse_contracts_link']").trigger("click");
  $("a[href='#contracts_form_collapse_search_customers_link']").trigger("click");

- elsif params[:select_ticket].present?
  $("#contractlist").removeClass("hide");
  $("#contractlist").html("#{j render 'contracts/ticket_contracts_list'}");
  $("a[href='#contracts_ticket_form_collapse_search_customers_link']").trigger("click");

- elsif params[:edit_create].present?
  $("#contractedit").removeClass("hide");
  $("#contractedit").html("#{j render 'contracts/contractform'}");
  $("a[href='#contracts_form_collapse_contracts_link']").trigger("click");

- elsif params[:select_contract].present?
  $("#contractselect").html("#{j render 'contracts/contractproducts'}");

- elsif params[:search_product].present?
  $("#searchproduct").html("#{j render 'contracts/searchproduct'}");

- elsif params[:done].present?
  $("#searchproduct").html("#{j render 'contracts/contractform'}");

- elsif params[:save].present?
  - if params[:ajax_upload].present?
    $("#contractedit").html("#{j render 'contracts/contractform'}");
  - else

    - if @contract.errors.any?
      $("#contractedit").html("#{j render 'contracts/contractform'}");
      console.log("error");
    - else
      console.log("success");
      $("#contractedit").html("#{j render 'contracts/contractform'}");
      $("#").html("successfully saved");
      $("#contract_alert").removeClass("hide");
      $("#contract_alert #content").html("successfully saved");


Tickets.initial_loaders();
Contracts.disabled_datepicker();
Tickets.remove_ajax_loader();
Tickets.multi_pop_url_doc_upload();
Tickets.disabled_end_at();
